# Java, Spring

## 1. JVM이 정확히 무엇이고, 어떤 기능을 하는지 설명해 주세요.
`JVM (Java Virtual Machine)` : OS에 종속받지 않고 CPU가 Java 애플리케이션을 인식하고 실행할 수 있게 하는 가상 머신     
=> 컴파일된 Java.class 파일이 다양한 OS에서 실행될 수 있게 해준다. 
#### 컴파일 과정
```
*.java --[Copiler]--> *.class --[JVM]--> 기계어 --> [OS]
```
1. 자바 소스코드는 Java Compiler를 통해 JVM이 인식할 수 있는 Java bytecode로 변환됨
   > Java compiler는 JDK를 설치하면 `/bin`에 존재하는 javac.exe를 의미
2. JVM은 OS가 바이트코드를 이해할 수 있도록 해석해주는 역할을 하고, 이때문에 바이트코드가 JVM 위에서 OS 상관없이 실행 가능한 것
#### 구조
JVM은 크게 세 가지 구성 요소로 나뉨
1. 클래스 로더 (Class Loader)
- 클래스 파일을 읽어 JVM 메모리에 적재(로드)하고 링크를 통해 배치하는 작업 수행
2. 실행 엔진 (Execution Engine)
- JVM이 로드한 클래스 파일을 실행하는 역할 담당     
- 주요 구성 요소로는 인터프리터와 JIT(Just In Time) 컴파일러, 가비지 콜렉터가 있다.
  - 인터프리터 : 바이트코드를 한 줄씩 해석하고 실행
  - JIT 컴파일러 : 자주 실행되는 코드를 네이티브 코드로 변환해 캐싱
  - GC : 힙 영역의 메모리를 관리, 더 이상 참조되지 않는 객체를 찾아 자동으로 메모리 해제
3. Runtime Data Area
- Method Area (메서드/클래스 영역) : 실행에 필요한 클래스를 로드해서 저장
- Heap Area : 객체 인스턴스들이 올라가는 영역, 동적 메모리 할당 영역. GC 대상
- JVM Stack : 프로그램 실행 중 발생하는 메서드 호출과 복귀에 대한 정보 저장
- Native Method Stack : C, C++ 같은 네이티브 메서드 실행을 위한 스택

### ⁃ 그럼, 자바 말고 다른 언어는 JVM 위에 올릴 수 없나요?
자바 바이트코드로 컴파일될 수 있는 언어는 모두 JVM 위에 올릴 수 있다.     
Kotlin, Groovy, Scala, Clojure 등이 그 예시
### ⁃ 반대로 JVM 계열 언어를 일반적으로 컴파일해서 사용할 순 없나요?
사용 가능하다. kotlin-native의 경우 jvm이 아니라 llvm 방식으로 컴파일되어서 운영체제의 실행파일을 만듦.
### ⁃ VM을 사용함으로써 얻을 수 있는 장점과 단점에 대해 설명해 주세요.
#### 장점
- 플랫폼 독립성 (이식성) : Write Once, Run Anywhere
- 보안성 : 프로그램이 VM 안에서 실행되므로 OS나 하드웨어에 직접 접근하기 어려워 보안성이 강화됨
- 안정성 : VM이 메모리 관리나 예외처리 등을 해주므로 위험이 줄어듦
#### 단점
- 프로그램이 하드웨어 위에서 직접 실행되지 않고 가상머신을 거치므로 순수 네이티브 코드에 비해 속도가 떨어질 수 있음
- 가상머신 자체적인 메모리 사용량이 상대로 크다.

### ⁃ JVM과 내부에서 실행되고 있는 프로그램은 부모 프로세스 - 자식 프로세스 관계를 갖고 있다고 봐도 무방한가요?
운영체제 관점에서는 Java라는 실행파일(=JVM 실행 엔진)을 하나의 프로세스로 띄우고     
해당 프로세스 내에서 .class 바이트코드를 해석/실행하는 것이라 새로운 OS 프로세스가 생성되지 않음     
JVM 내부 관점에서도 본인 프로세스 내에서 스레드를 생성해서 `main()` 같은 사용자 프로그램을 실행하는 거기 때문에     
JVM 내부에서 실행되는 프로그램은 자식 프로세스가 아니라 JVM 프로세스의 내부 스레드라고 보는 것이 정확

## 2. final 키워드를 사용하면, 어떤 이점이 있나요?
- 안정성 보장 : 의도치 않은 변경, 오버라이딩, 상속을 막아 버그 예방
- 명확성 보장 : 해당 값/메서드/클래스는 절대 변하지 않는다는 코드의 의도를 분명히 전달 가능
- 성능 최적화 : final 키워드로 인해 변경 불가능성 보장되므로 JIT 컴파일러가 최적화 기법을 사용하기 더 수월함
    > ##### 인라이닝
    > 메서드를 호출할 때 호출하지 않고 메서드 본문을 그대로 복사해 넣는 최적화 기법
    > ##### Constant Pool Optimization
    > 자바는 Class Cosntant Pool 이라는 영역에 문자열, 리터럴 값, 메서드/필드 참조 같은 불변 값을 저장하는데
    > final static 변수는 컴파일 타임 상수로 Constant Pool에 저장하여 사용 가능 → 변수 접근이 아니라 상수 값을 직접 사용함으로써 메모리 접근 절약 + 실행 효율 증가
### ⁃ 그렇다면 컴파일 과정에서, final 키워드는 다르게 취급되나요?
`.class` 파일의 메타데이터에 '변경 불가' 라는 플래그가 기록된다.     
JVM과 JIT는 이를 근거로 인라이닝, 상수 대체, 가상 호출 제거 등의 최적화를 더 공격적으로 수행 가능

## 3. 인터페이스와 추상 클래스의 차이에 대해 설명해 주세요.
|구분|                    인터페이스                    |추상 클래스|
|:---:|:-------------------------------------------:|:---:|
|목적|                    규약 정의                    |공통 로직 + 추상 메서드 제공|
|다중 상속|                     가능                      |단일 상속만 가능|
|멤버 변수|         public static final (Only)          |인스턴스 변수, 상수 모두 가능|
|메서드| abstract, default, static, private(Java9 ↑) |추상 메서드 + 일반 메서드|
|생성자|                     불가능                     |가능|

### ⁃ 왜 클래스는 단일 상속만 가능한데, 인터페이스는 2개 이상 구현이 가능할까요?
- 추상 클래스 : C++처럼 다중상속을 허용할 경우 다이아몬드 상속 문제(모호성)가 생길 수 있음 → 상속 계층 구조가 복잡해져서 버그 가능성이 높아짐
- 인터페이스 : 멤버 변수(상태)를 가질 수 없고 단순히 규약만 정의하기 때문에 충돌 가능성이 낮음 

## 4. 리플렉션에 대해 설명해 주세요.

### ⁃ 의미만 들어보면 리플렉션은 보안적인 문제가 있을 가능성이 있어보이는데, 실제로 그렇게 생각하시나요? 만약 그렇다면, 어떻게 방지할 수 있을까요?
### ⁃ 리플렉션을 언제 활용할 수 있을까요?


## 5. static class와 static method를 비교해 주세요.

### ⁃ static 을 사용하면 어떤 이점을 얻을 수 있나요? 어떤 제약이 걸릴까요?
### ⁃ 컴파일 과정에서 static 이 어떻게 처리되는지 설명해 주세요.


## 6. Java의 Exception에 대해 설명해 주세요.

### ⁃ 예외처리를 하는 세 방법에 대해 설명해 주세요.
### ⁃ CheckedException, UncheckedException 의 차이에 대해 설명해 주세요.
### ⁃ 예외처리가 성능에 큰 영향을 미치나요? 만약 그렇다면, 어떻게 하면 부하를 줄일 수 있을까요?


## 7. Synchronized 키워드에 대해 설명해 주세요.

### ⁃ Synchronized 키워드가 어디에 붙는지에 따라 의미가 약간씩 변화하는데, 각각 어떤 의미를 갖게 되는지 설명해 주세요.
### ⁃ 효율적인 코드 작성 측면에서, Synchronized는 좋은 키워드일까요?
### ⁃ Synchronized 를 대체할 수 있는 자바의 다른 동기화 기법에 대해 설명해 주세요.
### ⁃ Thread Local에 대해 설명해 주세요.


## 8. Java Stream에 대해 설명해 주세요.

### ⁃ Stream과 for ~ loop의 성능 차이를 비교해 주세요,
### ⁃ Stream은 병렬처리 할 수 있나요?
### ⁃ Stream에서 사용할 수 있는 함수형 인터페이스에 대해 설명해 주세요.
### ⁃ 가끔 외부 변수를 사용할 때, final 키워드를 붙여서 사용하는데 왜 그럴까요? 꼭 그래야 할까요?


## 9. Java의 GC에 대해 설명해 주세요.

### ⁃ finalize() 를 수동으로 호출하는 것은 왜 문제가 될 수 있을까요?
### ⁃ 어떤 변수의 값이 null이 되었다면, 이 값은 GC가 될 가능성이 있을까요?


## 10. equals()와 hashcode()에 대해 설명해 주세요.

### ⁃ 본인이 hashcode() 를 정의해야 한다면, 어떤 점을 염두에 두고 구현할 것 같으세요?
### ⁃ 그렇다면 equals() 를 재정의 해야 할 때, 어떤 점을 염두에 두어야 하는지 설명해 주세요.


## 11. IoC와 DI에 대해 설명해 주세요.

### ⁃ 후보 없이 특정 기능을 하는 클래스가 딱 한 개하면, 구체 클래스를 그냥 사용해도 되지 않나요? 그럼에도 불구하고 왜 Spring에선 Bean을 사용 할까요?
### ⁃ Spring의 Bean 생성 주기에 대해 설명해 주세요.
### ⁃ 프로토타입 빈은 무엇인가요?


## 12. AOP에 대해 설명해 주세요.

### ⁃ @Aspect는 어떻게 동작하나요?


## 13. Spring 에서 Interceptor와 Servlet Filter에 대해 설명해 주세요.

### ⁃ 설명만 들어보면 인터셉터만 쓰는게 나아보이는데, 아닌가요? 필터는 어떤 상황에 사용 해야 하나요?


## 14. DispatcherServlet 의 역할에 대해 설명해 주세요.

<li>여러 요청이 들어온다고 가정할 때, DispatcherServlet은 한번에 여러 요청을 모두 받을 수 있나요?
<li>수많은 @Controller 를 DispatcherServlet은 어떻게 구분 할까요?


## 15. JPA와 같은 ORM을 사용하는 이유가 무엇인가요?

### ⁃ 영속성은 어떤 기능을 하나요? 이게 진짜 성능 향상에 큰 도움이 되나요?
### ⁃ N + 1 문제에 대해 설명해 주세요.


## 16. @Transactional 은 어떤 기능을 하나요?

### ⁃ @Transactional(readonly=true) 는 어떤 기능인가요? 이게 도움이 되나요?
### ⁃ 그런데, 읽기에 트랜잭션을 걸 필요가 있나요? @Transactional을 안 붙이면 되는거 아닐까요?


## 17. Java 에서 Annotation 은 어떤 기능을 하나요?

### ⁃ 별 기능이 없는 것 같은데, 어떻게 Spring 에서는 Annotation 이 그렇게 많은 기능을 하는 걸까요?
### ⁃ Lombok의 @Data를 잘 사용하지 않는 이유는 무엇일까요?


## 18. Tomcat이 정확히 어떤 역할을 하는 도구인가요?

### ⁃ 혹시 Netty에 대해 들어보셨나요? 왜 이런 것을 사용할까요?

